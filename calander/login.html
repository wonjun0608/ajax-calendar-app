<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login â€“ Calendar App</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h2>Login to Calendar</h2>
  <input type="text" id="username" placeholder="Username" required><br><br>
  <input type="password" id="password" placeholder="Password" required><br><br>
  <button id="loginBtn">Login</button>
  <p>Don't have an account? <a href="register.html">Register here</a></p>
  <p id="msg" style="color:red;"></p>


  <button id="guestBtn" style="margin-top:15px; padding:8px 12px;  color:black; border:none; border-radius:5px; cursor:pointer;">
    Continue without login
  </button>


  
  <script>
    document.getElementById('loginBtn').onclick = async () => {
      const u = document.getElementById('username').value.trim();
      const p = document.getElementById('password').value;
      const form = new FormData();
      form.append('username', u);
      form.append('password', p);

      const r = await fetch('./php/login.php', { method: 'POST', body: form });
      const data = await r.json();
      if (data.success) window.location.href = 'main.php';
      else document.getElementById('msg').textContent = data.message;
    };

    document.getElementById('guestBtn').onclick = () => {
      window.location.href = 'main.php';
    };
  </script>
</body>
</html>